

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Author {

  id Int @id @default(autoincrement())
  fullName String 
  photo String 
  email String @unique 
  password String 
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  articles Article[]

  comments Comment[]

}
model Article {

  id Int @id @default(autoincrement())
  title String 
  content String 
  author   Author @relation(fields: [authorId], references: [id])
  authorId Int 
  publishDate DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  comments Comment[]

}

model Comment {

  id Int @id @default(autoincrement())
  content String 
  publishDate DateTime  @default(now())
  updatedAt DateTime  @updatedAt

  author   Author @relation(fields: [authorId], references: [id])
  authorId Int 

  article   Article @relation(fields: [articleId], references: [id])
  articleId Int 

}

generator client {
  provider = "prisma-client-js"
}

